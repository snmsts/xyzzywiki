* dumpファイルの場所を変更したい [#n3488bb0]
-ページ: [[質問箱]]
-投稿者: [[NAKANO]]
-状態: 完了
-投稿日: 2003-09-29 (月) 07:39:53

** メッセージ [#l5165d4f]
ダンプファイルがいつもディスクの断片化の原因となるので，キャッシュ専用のドライブに移動させようと思い立ちました．
諸事情があり，-image オプションを指定しない方法でダンプ場所を変えようと試行錯誤しましたがダメでした．
si:dump-image-path を siteinit.l で変更できないだろうかとか，-image オプションを lispで強制的に与えてみるなどです．
si:dump-image-path を書き換えると etc/DOC がうまく作られなくなるし， (si:dump-image-path) を実行しても結果が変化していないのでダメでした．

またダンプイメージが読み込まれるタイミングはいつでしょうか？自分の解釈では， ダンプイメージが無い時に siteinit.l をsi:*load-libraryし，あるときはダンプを読むことで結果的に siteinit.l を読み込むものとおもっています．山本さんのページを参考に，startup,estartup,loadup を見てみたのですが，私にはどこでロードを試みているのか分かりませんでした． どなたかよろしくお願いします． 
# うまくできても，万人に勧められるものではないですが

http://www1.odn.ne.jp/ymtz/tips.html#boot
----
-どうやっても無理な気がしてきたので， -image 使おうと思います・・・・・ 関連付けやcygwinのalias全て直すの面倒だけど -- [[NAKANO]] SIZE(10){2003-09-29 (月) 09:16:32}
-残念ながらstartupよりも先なので簡単には無理です。速度を犠牲にして良いのならstartup.lから(dump-xyzzy)を消すとかはどうでしょう？dumpが更新されることは無いので断片化だけは防げるかと。 -- [[佐野]] SIZE(10){2003-09-29 (月) 11:38:03}
-遅いのは困るので＾＾；　とりあえずWSHと -image オプションを使って，他ドライブ or RAMディスク にイメージを置くようして見ました．RAMディスクの効果がWSHで相殺されて意味なし．　しかし当初の目的の断片化防止は -image オプションで指定することでうまくいきました． -- [[NAKANO]] SIZE(10){2003-09-30 (火) 07:42:37}

#comment
- 1 -- [[1]] &new{2015-02-17 (火) 02:13:11};
