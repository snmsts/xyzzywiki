#freeze
#contents

*キーバインドを覚えよう [#x2a3ce17]

**前口上 [#l6a1968b]

今までで自分の好きな設定にある程度なったように思うんで、キーバインドを紹介しようと思います。

**キーバインドってのは何？ [#y9a2d45e]

メモ帳でCtrlキーとsを同時に押すと編集中のファイルを上書き保存しますよね。そういうのをキーバインドとかショートカットキー（とか）って呼ぶようです。

普段メモ帳やブラウザ、Word等を使っている人から見れば、xyzzyはかなり独特のキーバインドに感じると思います。例えば、メモ帳と同じように上書き保存しようと思って、Ctrl-s((以後Ctrlを押しながらsを押す動作をこう表記します))を押して上書き保存はできません。
このキーバインドは、UNIX等で広く用いられるエディタ((というよりはなんでもありの統合環境か。))のEmacsというプログラムと大体同じらしいです。

標準の状態では、Windowsのキーバインドでないですが、慣れてくると非常に快適です。だからそれに慣れるのも良いかもしれません。((ま、好き好きですね))

もちろん、キーバインドは自分の好きなように置き換えることができるので、Windowsっぽくすることもできます。自分の好きなようにカスタマイズすると良いかもしれません。

**一応先にEmacsらしいキーバインドを [#dbb18d58]

紹介します。後述しますけど、開いたファイルの拡張子によって多少違ってきたりすることもある（ような気がする）ので、おそらくほとんどで操作できるような所だけです。しかも、''むちゃくちゃ基本的なやつだけ''です。なぜかと言うと、沢山あっても最初は覚えられなかったからです。((自分が。全部覚えているなんて言う人はいるのかなぁ？))

だから、使い込むにつれて''少しずつ覚えていけば良い''と思います。別にキーバインドを覚えることはそんなに必要なこととは思えないので。((っていうとこれから説明する意味が……))

***xyzzyを終了させる [#w139a079]

まずxyzzyを終了させるキーバインドを紹介します。まぁ、普通に上にある「×」ボタンを押しても良いんですが、わざわざマウスとかに手を動かすのが面倒くさい時などに便利です。

Windowsの標準ではAlt-F4だと思いますが、xyzzyでは''Ctrl-x Ctrl-c''です。ここで気をつけてもらいたいのは、Ctrl-x Ctrl-cは''Ctrlを押した状態でx（小文字の）を押し、Ctrlキーは押したままcを押す''ってことです。例えば、Ctrlを左の小指で押して、左の薬指でxを押して、xを押していた薬指を離して、中指でcに押せば良いわけです。

なんかCtrl-x Ctrl-cをみると、''Ctrl-xでもCtrl-cでもどっちでもOK、みたく見えますけどそうではない''ので注意してください。

ちなみに上では左の小指でCtrlキーを押してますけど((これが自分の中の標準だったもので……、それ以上の意味はないです))、どんな風に押してもOKです。右側Ctrlキーがついているキーボードを使っている人は、右手の小指でそれを押してもOKです。 要は押していれば何でもOKです。

実際に起動させて上のキーを入力してみると、xyzzyは終了しますよね。まぁ、セーブしてないファイル（ホントはバッファですけど）があったら以下のダイアログが出るかもしれませんけど。

#br
#br

CENTER:''確認ダイアログ''
CENTER:#ref(01.png,center,100%)
CENTER:#img(,clear)
CENTER:&size(10){「はい」を押すと終了しますんで注意。};

#br
#br

ちなみに、xyzzyは（結構）上みたいに二つのキーで入力することが多いです。

***ファイルを保存する [#kece35ea]

次は、編集し終わったファイルを保存するキーバインドです。

上の終了と大体同じで、''Ctrl-x Ctrl-s''です。上と同じようにxを押した後に（Ctrlキーを離さないで）sを押します。

セーブし終わると、ウィンドウの左下のステータスバーの部分に「〜〜行」と表示されます。バッファのツールバーを表示させている場合には、セーブするとファイル先頭の「*」（星とかアステリスクとかアスタリスクと呼ぶみたい）が取れることがわかります。

#br
#br

CENTER:''左下に行が表示される''
CENTER:#ref(02.png,center,50%)
CENTER:#img(,clear)
CENTER:&size(10){ステータスバーに「106行」って書かれてます。これが出ると保存されています。};

#br
#br

***ファイルを開く、新規にファイルを作る [#u310fd68]

では今度はファイルの保存、新規作成を。

なんで二つの機能を一緒に紹介するかというと簡単な話で、''おんなじキーバインドでOK''だからです。

そのキーバインドは''Ctrl-x Ctrl-f''です。ためしにこれを押してみると、以下のように、一番下の行にパスが表示されます。

#br
#br

CENTER:''ファイルのパスを入力''
CENTER:#ref(03.png,center,50%)
CENTER:#img(,clear)
CENTER:&size(10){普通はフォルダやファイルの区切りは\だけど、/になってます。ファイル名を入力してEnterキーを押すとファイルが開きます。};

#br
#br

上のところで、''存在しているファイル名を入力したらそのファイルを開き、存在していないファイル名を入力したら、新たにそのファイルが作成されます。''だから、ファイルを開く操作と新たにファイルを作る動作は一緒なんです。

また、もしファイル名をしっかり覚えていなかったら''TABキー''を押してみてください。押してみると、下のように、ファイルの一覧が見えるようになります。

#br
#br

CENTER:''ファイルやフォルダの一覧とか''
CENTER:#ref(04.png,center,50%)
CENTER:#img(,clear)
CENTER:&size(10){なんかウィンドウが上下二つに分かれて、下のウィンドウにファイルやフォルダ名が表示されます。};

#br
#br

さらにある程度まで文字を打って、Tabキーを押すと、''候補が絞られて''表示されます。

#br
#br

CENTER:''xyzzまで入力してみた''
CENTER:#ref(05.png,center,50%)
CENTER:#img(,clear)
CENTER:&size(10){「xyz」くらいまで入力してTabを押してみた。すると、共通部分が補完されて、該当するファイルだけ表示される。};

#br
#br

おんなじフォルダにあるファイルを開く時に便利ですね。

自分の場合、フォルダ間の移動にはだいたいエクスプローラを使ってるんで、コンテキストメニューの「送る」とかで開くことも多いですけど。

**一応 [#vced7552]

これでファイルを開いて、保存して、終了のキーバインドがわかったと思います。

ほかにも幾つかありますが、ここでとりわけ重要なキーバインドを。

それは''Ctrl-g''です。これは何か間違った操作をしてしまったときとかに、''操作を取り消す（=キャンセルする）''時に使うので、絶対覚えておいたほうが良いと思います。

例えば、保存しようとしてCtrl-x Ctrl-sを押すかわりにファイルを開くCtrl-x Ctrl-fを押してしまった時とか、何か操作を間違った時に使います。

実際に入力してみるとわかると思いますが、保存する時に「〜〜行」と表示されていたところに「Quit」と表示されます。

#br
#br

CENTER:''間違った時はCtrl-g''
CENTER:#ref(06.png,center,50%)
CENTER:#img(,clear)
CENTER:&size(10){下のところに''Quit''ってかかれてますよね。xyzzyのメッセージは（ダイアログ以外）ここに出ます。};

#br
#br

何かまずそうな操作をしている最中で気づいたら、''すかさずCtrl-g''です。
ただし、このCtrl-gは、あくまでも入力中の操作を一時停止するものなので、操作が完了してしまったら、これでは取り消せません。（いわゆる「アンドゥ」では無いです。単なる「キャンセル」のキーバインドです）

そんな時にはWindowsキーで言うところのCtrl-z、つまり「元に戻す」操作をしないとだめです。

**元に戻す [#v03fcd2d]

ではそのキーバインドを。教えたいところなんですが、自分は変更してしまったので、覚えてません……。とは言っても、これはメニューから呼び出せるので、そこをみればOKです。やり直しはなんだったっけ？

#br
#br

CENTER:#ref(07.png,center,100%)
CENTER:#img(,clear)
CENTER:&size(10){今見たらCtrl-\でした。自分はUndoの頭文字でCtrl-uにしてありますけどね。};

#br
#br

ちなみに、メニューバーに書いてあるキーバインドはそのまんまです。例えば「ウィンドウ（W）」の「横に分割（S）」はCtrl-xの後に（C-x C-sとは違って二回目はCtrlを離して）5を押すってことです。

**もちょっと詳しく知りたい人は [#tab7b234]

実はもっともっとたくさんのキーバインドがあるんですけど、一度に覚えようとすると、覚えられなかったりするような気がするので、とりあえず、これくらいで良いんじゃないでしょうか。

もっと知りたかったら''メニューバーの「ヘルプ（?）」の「キー割り当て一覧（K）」を選択''してみると、一覧が表示されます。英語で表示されているんでちょっとわかりにくいのが困りますけど。

ちなみに、「キー割り当て一覧（K）」に出てくる中で少しわかりにくそうなやつ（キーの表記）を説明しておきます。

**キー割り当て一覧の文字の意味とか [#n29fcc6d]

について説明します。

:C-sとかのC | C（大文字）で、-（線みたいなの）が入っているのは上で説明したのと同じように、''Ctrl''です。普段WordやExcelとかで使われる切り取りや貼り付けをする時の、あのコントロールキーです。

:ESC aとかのESC | ''ESCってのはEscapeキーのこと''です。そう書いてありますが、AltキーでもOKです。また、EscキーはC-[でも入力できます。((なんかたくさんの入力方法があるな :) )) 自分は普段EscキーはAltキーを使っています。自分の好きな方法で良いのではないかと思います。例えば、ESC C-oならEscape（かAltキー）を押しながら、Ctrlキーも押してo（小文字のo）を押すことを意味します。つまり、キーを押している指は三つ。ちなみに、Escキーの場合には、Escキーを押しながらxを押しても、Escキーを押した後にxを押しても（=Escを押して、指をキーボードから離した後にxキーを押す）同じになります((キーリピートしちゃうとダメです。 ESC は Alt や Shift のようなキーとは違うので。))。AltキーはAltを押したままxを押さないとだめなので注意してください。また、このEscキーを M（meta:メタ）キーと表記する場合もありますが、そういうのを見たら、EscapeキーかAltキーだと思えばOKです。例えば、M-xと書かれていた場合には、 Escapeキーを押しながらx（小文字のx）を押すか、Altキーを押しながらx（小文字のx）を押すことを意味してます。C-M-zならCtrlを押しながら、かつEscapeキー（かAltキー）を押し、さらにz（小文字のz）を押すってことです。xyzzyのキーバインドを解説されている[[黒い羽根さんの解説ページ:http://www.uranus.dti.ne.jp/%7Eshiro-/soft/xyzzy/key.html]]等では、この ESCをMで表記していますので、適宜読み替えるといいと思います。

:S-F5のS | ''Sってのは Shiftキーのこと''です。ちなみにF5はそのままF5キーのことです。Shiftを押しながらF5キーを押すことを意味します。（そのままですね、これは）

:C-InsertのInsert | Insertはそのまま Insert（ノートパソコンなら\記号の上あたり、デスクトップパソコンなら、Deleteキーの近く）にあるやつです。忘れてましたが、xyzzyでは''コピーがこのC-Insert''です。

:C-SPCのSPC | なんとなく想像付くと思いますけど、''SPCは スペースキー''です。だからC-SPCはCtrlを押しながらスペースを押すという動作です。

後はだいたいわかるんではないでしょうか。例えばDownだったら矢印の↓とか。

**ケーススタディ [#x7c631da]

何個か例を挙げて実際のキーの押し方を説明しようと思います。

:ESC C-Up | このキーはEscapeキー（かAltキー）を押し、かつCtrlキーも押して、矢印の↑を押すことを意味してます。だから最終的にキーボードに触れている指は三本。あるいは、先にEscキーを押して、キーボードから指を離してからCtrlを押しながら↑キーを押すのも同じです。

:C-x C-k F | これはまず、Ctrlを押しながらx（小文字のx）を押して、その後Ctrlを押しながらk（小文字のk）を押して最後にFを押すことを意味してます。実際には小指でCtrlキーを押しながら薬指でxを押して（小指を離さないで）中指でkを押し最後に小指でShiftキーを押しながら人差し指でfを押すってことです。((こんな複雑なのは（普通）あんまり使わないんで、たとえわからなくとも困らないって話もある……。))

:C-x n | これはCtrlを押しながらx（小文字のx）を押し、n（小文字のn）を押す動作です。最後のnではCtrlを押してないところに注意してください。

:S-C-Up | Shiftを押しながら、かつCtrlも押し、さらにUp（矢印の↑キー）も押しているって言う動作です。キーを押している指は3本。

:F2（とか） | 単純にF2を押すってことです。((言われなくてもわかるっつーの、と言われそう))

**つまり…… [#t5f87ea8]

見てきてわかったと思いますが、''途中に-（マイナス）が入っている時には同時押しをする''ってことだと思います。

ちなみに、C-x C-sなどのように、2回Ctrlを押す動作は、はじめにC-xか、C-cを押す以外に無いみたいです。

**さらに詳しく知りたい人は…… [#zace34df]

自分にはこれ以上詳しくキーバインドを説明する能力がないので、他のページを参照してみてください。特に、xyzzyに関しては[[黒い羽根さんのページ:http://www.uranus.dti.ne.jp/%7Eshiro-/index.html]]や、[[ひえ]]さんのページにある[[キー割り当て一覧:http://hie.s64.xrea.com/xyzzy/note/keybind.html]]に詳しく書かれていますので、そちらを参照すると良いと思います。

適当にファイルを作っていろいろと入力してから試してみると良いですね。訳がわからなくなったり、危なくなったら Ctrl-gで一時停止が基本です。

おそらく上記2つのページを見ればキーバインドに関してはかなり詳しくなれると思います。

***どーしてもWindowsのキーバインドを使いたいよー！！ [#g2718e11]

って人ももちろんいると思います。そういう人にも（もちろん）xyzzyは配慮されてます。ようするにWindowsに準拠したキーバインドの設定ファイルをxyzzyが読み込むように設定してやれば良いわけです。
その設定ファイルは、あらかじめxyzzyの一緒に配布されているので、前に作った.xyzzy(やsiteinit.l)のファイルに、

 (load-library "gates")

を記述しておけば良いだけです。簡単ですね。((ちなみに、その設定ファイルは、xyzzy.exeのあるフォルダ内の、''$XYZZY/lisp/Gates.l''です。xyzzyがバージョンアップした時に、上書きしてしまったりすることがあると思うので、なるべくカスタマイズは.xyzzyやsiteinit.lに書くようにしてください。そうしないとたまに悲しい事態に遭遇する可能性があります。))

xyzzyを再起動するとWindows標準（っぽく）なっていると思います。
